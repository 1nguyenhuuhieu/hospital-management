{% extends 'account/base.html' %}
{% block title %}Đăng ký tài khoản{% endblock %}
{% load static %}
{% block content %}
{% load crispy_forms_tags %}
<div class="bg-light border-bottom text-center py-2">
   <a href="{% url 'news:index' %}"><img src="{% static 'imgs/logo-dark-400.png' %}" alt="logo trung tâm y tế huyện anh sơn" style="width: 150px;"></a>
</div>
<div class="container-fluid">
    <div class="row justify-content-center mt-4">
        <div class="col-10 col-sm-8 col-md-5 col-lg-5 col-xl-4 text-center">
            <h2 class="fw-medium text-dark">Tạo tài khoản với email</h2>
        </div>
    </div>
    <div class="row justify-content-center mt-4">
        <div class="col-10 col-sm-8 col-md-5 col-lg-4 col-xl-3">
            <form action="" method="post" class="mb-5" id="registerForm">
                {% csrf_token %}
                {{ form|crispy  }}
                <div class="form-check form-switch mb-4">
                    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
                    <label class="form-check-label" for="flexSwitchCheckDefault">Hiển thị mật khẩu</label>
                  </div>
              <button class="btn btn-lg btn-dark text-uppercase fw-medium w-100 rounded-pill" type="submit" >tạo tài khoản</button>
            </form>
            <div class="text-center">
            <a href="{% url 'account:register' %}" class="btn btn-outline-dark rounded-pill w-100"><i class="bi bi-chevron-left me-1"></i>Quay về trang trước</a>
        </div>

        </div>

        <div class="col-12 text-center mt-5">
            <p class="small text-secondary">
                Bằng việc tạo tài khoản, bạn đã đồng ý với các <br>
            <a href="" class="link-dark fw-medium small">THỎA THUẬN NGƯỜI DÙNG</a>
            & 
            <a href="" class="link-dark fw-medium small">CHÍNH SÁCH BẢO MẬT</a>
            của benhvienanhson.com
            </p>
            
        </div>

    </div>
</div>
<script>
    const userName = document.getElementById("id_username");
    const email = document.getElementById("id_email");
    const registerForm = document.getElementById("registerForm");
    const password2 = document.getElementById("id_password2");
    const password1 = document.getElementById("id_password1");
    const showPwd = document.getElementById("flexSwitchCheckDefault");
    registerForm.addEventListener("submit", (event) => {
        email.value = userName.value
    });
    password2.addEventListener("change", (event) => {
        password1.value = password2.value

    })

    showPwd.addEventListener("change", (event) => {
        if(showPwd.checked){
            password2.type = 'text'
        }
        else {
            password2.type = 'password'
        }
    })

    
</script>
{% endblock %}